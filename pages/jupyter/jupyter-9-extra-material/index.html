<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Workshop on Tools for Reproducible Research"><meta name=author content="Jacques Dainat et al."><link href=https://southgreenplatform.github.io/training_reproducible_research/pages/jupyter/jupyter-9-extra-material/ rel=canonical><link href=../jupyter-8-the-mrsa-case-study/ rel=prev><link href=../../quarto/quarto-1-introduction/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.15"><title>Extra material - Bioinformatics Workshop on Tools for Reproducible Research</title><link rel=stylesheet href=../../../assets/stylesheets/main.26e3688c.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#running-jupyter-notebooks-on-a-cluster class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="Bioinformatics Workshop on Tools for Reproducible Research" class="md-header__button md-logo" aria-label="Bioinformatics Workshop on Tools for Reproducible Research" data-md-component=logo> <img src=../../images/southgreen.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Bioinformatics Workshop on Tools for Reproducible Research </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Extra material </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/SouthGreenPlatform/training_reproducible_research title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> training_reproducible_research </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../introduction/introduction_southgreen/ class="md-tabs__link md-tabs__link--active"> Tutorials </a> </li> <li class=md-tabs__item> <a href=../../cheat_sheet/bash/bash/ class=md-tabs__link> Cheat sheet </a> </li> <li class=md-tabs__item> <a href=../../slido/ class=md-tabs__link> Ask a question </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Bioinformatics Workshop on Tools for Reproducible Research" class="md-nav__button md-logo" aria-label="Bioinformatics Workshop on Tools for Reproducible Research" data-md-component=logo> <img src=../../images/southgreen.png alt=logo> </a> Bioinformatics Workshop on Tools for Reproducible Research </label> <div class=md-nav__source> <a href=https://github.com/SouthGreenPlatform/training_reproducible_research title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> training_reproducible_research </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../introduction/introduction_southgreen/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../introduction/roundtable/ class=md-nav__link> Roundtable Introduce Yourself </a> </li> <li class=md-nav__item> <a href=../../introduction/introduction_rr/ class=md-nav__link> Introduction Reproducible Research </a> </li> <li class=md-nav__item> <a href=../../data-management/data-management/ class=md-nav__link> Data Management </a> </li> <li class=md-nav__item> <a href=../../ice-breaker/ class=md-nav__link> Ice breaker session </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex=0> Git <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> Git </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../git/git-1-introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../git/git-setup/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../git/git-2-creating-repositories/ class=md-nav__link> Creating a git repository </a> </li> <li class=md-nav__item> <a href=../../git/git-3-committing-changes/ class=md-nav__link> Committing changes </a> </li> <li class=md-nav__item> <a href=../../git/git-undoing-and-recovering/ class=md-nav__link> Undoing and recovering </a> </li> <li class=md-nav__item> <a href=../../git/git-4-ignoring-files/ class=md-nav__link> Ignoring files </a> </li> <li class=md-nav__item> <a href=../../git/git-5-branches/ class=md-nav__link> Branching and merging </a> </li> <li class=md-nav__item> <a href=../../git/git-6-tags/ class=md-nav__link> Tagging commits </a> </li> <li class=md-nav__item> <a href=../../git/git-7-working-remotely/ class=md-nav__link> Working remotly </a> </li> <li class=md-nav__item> <a href=../../git/git-8-conflicts/ class=md-nav__link> Conflict </a> </li> <li class=md-nav__item> <a href=../../git/git-9-extra-material/ class=md-nav__link> Extra material </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7 id=__nav_2_7_label tabindex=0> Conda <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> Conda </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../conda/conda-1-introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../conda/conda-installation/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../conda/conda-2-the-basics/ class=md-nav__link> The basics </a> </li> <li class=md-nav__item> <a href=../../conda/conda-3-projects/ class=md-nav__link> Projects </a> </li> <li class=md-nav__item> <a href=../../conda/conda-4-extra-material/ class=md-nav__link> Extra material </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_8> <label class=md-nav__link for=__nav_2_8 id=__nav_2_8_label tabindex=0> Workflow Manager System <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_8_label aria-expanded=false> <label class=md-nav__title for=__nav_2_8> <span class="md-nav__icon md-icon"></span> Workflow Manager System </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../wms/ class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_8_2> <label class=md-nav__link for=__nav_2_8_2 id=__nav_2_8_2_label tabindex=0> Snakemake <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_8_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_8_2> <span class="md-nav__icon md-icon"></span> Snakemake </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../snakemake/snakemake-1-introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-installation/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-2-the-basics/ class=md-nav__link> The basics </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-3-visualising-workflows/ class=md-nav__link> Visualising workflow </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-4-the-mrsa-workflow/ class=md-nav__link> The MRSA Workflow </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-5-parameters/ class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-6-logs/ class=md-nav__link> Logs </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-7-temporary-files/ class=md-nav__link> Temporary files </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-8-targets/ class=md-nav__link> Targets </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-9-shadow-rules/ class=md-nav__link> Shadow rules </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-10-generalizing-workflows/ class=md-nav__link> Generalizing workflows </a> </li> <li class=md-nav__item> <a href=../../snakemake/snakemake-11-extra-material/ class=md-nav__link> Extra material </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_8_3> <label class=md-nav__link for=__nav_2_8_3 id=__nav_2_8_3_label tabindex=0> Nextflow <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_8_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_8_3> <span class="md-nav__icon md-icon"></span> Nextflow </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../nextflow/nextflow-1-introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../nextflow/nextflow-installation/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../nextflow/nextflow-nfcore/ class=md-nav__link> Getting started with nf-core </a> </li> <li class=md-nav__item> <a href=../../nextflow/nextflow-2-the-basics/ class=md-nav__link> The basics </a> </li> <li class=md-nav__item> <a href=../../nextflow/nextflow-3-executing-workflows/ class=md-nav__link> Executing workflows </a> </li> <li class=md-nav__item> <a href=../../nextflow/nextflow-4-working-with-processes/ class=md-nav__link> Working with process </a> </li> <li class=md-nav__item> <a href=../../nextflow/nextflow-5-workflow-configuration/ class=md-nav__link> Workflow configuration </a> </li> <li class=md-nav__item> <a href=../../nextflow/nextflow-6-optimising-the-mrsa-workflow/ class=md-nav__link> Optmising the MRSA workflow </a> </li> <li class=md-nav__item> <a href=../../nextflow/nextflow-7-extra-material/ class=md-nav__link> Extra material </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_9> <label class=md-nav__link for=__nav_2_9 id=__nav_2_9_label tabindex=0> Containers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_9_label aria-expanded=false> <label class=md-nav__title for=__nav_2_9> <span class="md-nav__icon md-icon"></span> Containers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../containers/containers-1-introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../containers/containers-installation/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../containers/containers-2-the-basics/ class=md-nav__link> The basics </a> </li> <li class=md-nav__item> <a href=../../containers/containers-3-building-images/ class=md-nav__link> Building a Docker image </a> </li> <li class=md-nav__item> <a href=../../containers/containers-4-managing-containers/ class=md-nav__link> Managing containers </a> </li> <li class=md-nav__item> <a href=../../containers/containers-5-sharing-images/ class=md-nav__link> Distributing your images </a> </li> <li class=md-nav__item> <a href=../../containers/containers-6-packaging-the-case-study/ class=md-nav__link> Packaging the case study </a> </li> <li class=md-nav__item> <a href=../../containers/containers-7-singularity/ class=md-nav__link> Singularity </a> </li> <li class=md-nav__item> <a href=../../containers/containers-8-extra-material/ class=md-nav__link> Extra material </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_10> <label class=md-nav__link for=__nav_2_10 id=__nav_2_10_label tabindex=0> Notebook <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_10_label aria-expanded=false> <label class=md-nav__title for=__nav_2_10> <span class="md-nav__icon md-icon"></span> Notebook </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../notebook/notebook-context/ class=md-nav__link> Context </a> </li> <li class=md-nav__item> <a href=../../notebook/notebook-markdown/ class=md-nav__link> Markdown </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_11> <label class=md-nav__link for=__nav_2_11 id=__nav_2_11_label tabindex=0> R Markdown <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_11_label aria-expanded=false> <label class=md-nav__title for=__nav_2_11> <span class="md-nav__icon md-icon"></span> R Markdown </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../rmarkdown/r-markdown-1-introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../rmarkdown/r-markdown-installation/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../rmarkdown/r-markdown-2-the-basics/ class=md-nav__link> The basics </a> </li> <li class=md-nav__item> <a href=../../rmarkdown/r-markdown-3-text/ class=md-nav__link> Text </a> </li> <li class=md-nav__item> <a href=../../rmarkdown/r-markdown-4-code-chunks/ class=md-nav__link> Code chunks </a> </li> <li class=md-nav__item> <a href=../../rmarkdown/r-markdown-5-the-yaml-header/ class=md-nav__link> The YAML header </a> </li> <li class=md-nav__item> <a href=../../rmarkdown/r-markdown-6-rendering/ class=md-nav__link> Rendering </a> </li> <li class=md-nav__item> <a href=../../rmarkdown/r-markdown-7-the-mrsa-case-study/ class=md-nav__link> The MRSA case study </a> </li> <li class=md-nav__item> <a href=../../rmarkdown/r-markdown-8-extra-material/ class=md-nav__link> Extra materiel </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_12 checked> <label class=md-nav__link for=__nav_2_12 id=__nav_2_12_label tabindex=0> Jupyter <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_12_label aria-expanded=true> <label class=md-nav__title for=__nav_2_12> <span class="md-nav__icon md-icon"></span> Jupyter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../jupyter-1-introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../jupyter-installation/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../jupyter-2-the-basics/ class=md-nav__link> The basics </a> </li> <li class=md-nav__item> <a href=../jupyter-3-magics/ class=md-nav__link> Magics </a> </li> <li class=md-nav__item> <a href=../jupyter-4-plotting/ class=md-nav__link> Plotting </a> </li> <li class=md-nav__item> <a href=../jupyter-5-widgets/ class=md-nav__link> Widgets </a> </li> <li class=md-nav__item> <a href=../jupyter-6-extensions/ class=md-nav__link> Extensions </a> </li> <li class=md-nav__item> <a href=../jupyter-7-converting-notebooks/ class=md-nav__link> Converting notebooks </a> </li> <li class=md-nav__item> <a href=../jupyter-8-the-mrsa-case-study/ class=md-nav__link> The MRSA case study </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Extra material <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Extra material </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#running-jupyter-notebooks-on-a-cluster class=md-nav__link> Running jupyter notebooks on a cluster </a> </li> <li class=md-nav__item> <a href=#integrating-notebooks-with-snakemake-workflows class=md-nav__link> Integrating notebooks with Snakemake workflows </a> </li> <li class=md-nav__item> <a href=#more-integrations class=md-nav__link> More integrations </a> </li> <li class=md-nav__item> <a href=#presentations-with-jupyter class=md-nav__link> Presentations with Jupyter </a> </li> <li class=md-nav__item> <a href=#jupyterlab class=md-nav__link> JupyterLab </a> </li> <li class=md-nav__item> <a href=#jupyter-book class=md-nav__link> Jupyter book </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_13> <label class=md-nav__link for=__nav_2_13 id=__nav_2_13_label tabindex=0> Quarto <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_13_label aria-expanded=false> <label class=md-nav__title for=__nav_2_13> <span class="md-nav__icon md-icon"></span> Quarto </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../quarto/quarto-1-introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../quarto/quarto-installation/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../quarto/quarto-2-the-basics/ class=md-nav__link> The basics </a> </li> <li class=md-nav__item> <a href=../../quarto/quarto-3-the-rendering/ class=md-nav__link> Rendering </a> </li> <li class=md-nav__item> <a href=../../quarto/quarto-4-the-extensions/ class=md-nav__link> Extensions </a> </li> <li class=md-nav__item> <a href=../../quarto/quarto-5-the-mrsa-case-study/ class=md-nav__link> The MRSA case study </a> </li> <li class=md-nav__item> <a href=../../quarto/quarto-6-comparison/ class=md-nav__link> Comparison </a> </li> <li class=md-nav__item> <a href=../../quarto/quarto-7-extra-material/ class=md-nav__link> Extra material </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_14> <label class=md-nav__link for=__nav_2_14 id=__nav_2_14_label tabindex=0> Making a project reproducible <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_14_label aria-expanded=false> <label class=md-nav__title for=__nav_2_14> <span class="md-nav__icon md-icon"></span> Making a project reproducible </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../project/project-1-review/ class=md-nav__link> Review </a> </li> <li class=md-nav__item> <a href=../../project/project-2-good_praticies/ class=md-nav__link> Good praticies </a> </li> <li class=md-nav__item> <a href=../../project/project-3-and_now/ class=md-nav__link> And now ? </a> </li> <li class=md-nav__item> <a href=../../project/project-4-demo/ class=md-nav__link> To end on a high note ! </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../take_down/take_down/ class=md-nav__link> Take down </a> </li> <li class=md-nav__item> <a href=../../final_word/ class=md-nav__link> Final word </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Cheat sheet <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Cheat sheet </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cheat_sheet/bash/bash/ class=md-nav__link> Bash </a> </li> <li class=md-nav__item> <a href=../../cheat_sheet/git/git/ class=md-nav__link> Git </a> </li> <li class=md-nav__item> <a href=../../cheat_sheet/git/git_official/ class=md-nav__link> Git official </a> </li> <li class=md-nav__item> <a href=../../cheat_sheet/conda/conda/ class=md-nav__link> Conda </a> </li> <li class=md-nav__item> <a href=../../cheat_sheet/notebook/notebook/ class=md-nav__link> Notebook </a> </li> <li class=md-nav__item> <a href=https://dockerlabs.collabnix.com/docker/cheatsheet/ class=md-nav__link> Docker </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../slido/ class=md-nav__link> Ask a question </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/SouthGreenPlatform/training_reproducible_research/edit/main/docs/pages/jupyter/jupyter-9-extra-material.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/SouthGreenPlatform/training_reproducible_research/raw/main/docs/pages/jupyter/jupyter-9-extra-material.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1>Extra material</h1> <p>Here are some useful resources if you want to read more about Jupyter in general:</p> <ul> <li>The <a href=http://jupyter.org>Jupyter project site</a> contains a lot of information and inspiration.</li> <li>The <a href=https://jupyter-notebook.readthedocs.io/en/stable/ >Jupyter Notebook documentation</a>.</li> <li>A <a href=http://ipywidgets.readthedocs.io/en/stable/index.html>guide</a> to using widgets for creating interactive notebooks.</li> </ul> <h2 id=running-jupyter-notebooks-on-a-cluster>Running jupyter notebooks on a cluster<a class=headerlink href=#running-jupyter-notebooks-on-a-cluster title="Permanent link">#</a></h2> <ul> <li>Login to Uppmax, making sure to use a specific login node, <em>e.g.</em> <code>rackham1</code>:</li> </ul> <div class=highlight><pre><span></span><code>ssh &lt;your-user-name&gt;@rackham1.uppmax.uu.se
</code></pre></div> <ul> <li>Create/activate a conda environment containing <code>jupyter</code> then run:</li> </ul> <div class=highlight><pre><span></span><code>jupyter notebook
</code></pre></div> <p>When the Jupyter server starts up you should see something resembling: <div class=highlight><pre><span></span><code>[I 11:00:00.000 NotebookApp] Serving notebooks from local directory: &lt;path-to-your-local-dir&gt;
[I 11:00:00.000 NotebookApp] Jupyter Notebook 6.4.6 is running at:
[I 11:00:00.000 NotebookApp] http://localhost:8889/?token=357d65100058efa40a0641fce7005addcff339876c5e8000
[I 11:00:00.000 NotebookApp]  or http://127.0.0.1:8889/?token=357d65100058efa40a0641fce7005addcff339876c5e8000
[I 11:00:00.000 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).
</code></pre></div></p> <p>Now a Jupyter notebook server is running on the Uppmax end. The line that says: <div class=highlight><pre><span></span><code>[I 11:00:00.000 NotebookApp] http://localhost:8889/?token=357d65100058efa40a0641fce7005addcff339876c5e8000
</code></pre></div></p> <p>contains information on the port used on the server side (8889 in this case) and the token required to use the server (<code>357d65100058efa40a0641fce7005addcff339876c5e8000</code>).</p> <p>Next step is to use this information to login to the server from your local computer. </p> <p><strong>On your local computer</strong></p> <p>In a terminal, run the following command to start port forwarding of port 8080 on your local computer to the remote port on the Uppmax side. Replace <remote-port> with the port given when you started the server on Uppmax. Also replace <your-user-name> with your user name on Uppmax.</p> <div class=highlight><pre><span></span><code>ssh<span class=w> </span>-N<span class=w> </span>-L<span class=w> </span>localhost:8080:localhost:&lt;remote-port&gt;<span class=w> </span>&lt;your-user-name&gt;@rackham1.uppmax.uu.se
</code></pre></div> <p>As long as this process is running the port forwarding is running. To disable it simply interrupt it with <code>CTRL + C</code>.</p> <p>Connect to the jupyter server by opening <code>localhost:8080</code> in your browser. When prompted, paste the token you got when starting the server on Uppmax.</p> <p>You are now (hopefully) accessing the jupyter server that's running on Uppmax, via your local browser.</p> <h2 id=integrating-notebooks-with-snakemake-workflows>Integrating notebooks with Snakemake workflows<a class=headerlink href=#integrating-notebooks-with-snakemake-workflows title="Permanent link">#</a></h2> <p>In the <a href=jupyter-8-the-mrsa-case-study>case study</a> section of this tutorial we created a Jupyter notebook that used output from a Snakemake workflow and produced some summary results and plots. Wouldn't it be nice if this was actually part of the workflow itself? To generate a HTML version of the notebook we can use what we learned in the section about <a href=jupyter-7-converting-notebooks>converting notebooks</a>. The command to execute the notebook and save it in HTML format in a file <code>results/supplementary.html</code> would be:</p> <div class=highlight><pre><span></span><code>jupyter<span class=w> </span>nbconvert<span class=w> </span>--to<span class=w> </span>HTML<span class=w> </span>--output-dir<span class=w> </span>results<span class=w> </span>--output<span class=w> </span>supplementary.html<span class=w> </span>--execute<span class=w> </span>supplementary_material.ipynb
</code></pre></div> <p>This command could be used in a rule, <em>e.g.</em> <code>make_supplementary</code>, the input of which would be <code>results/tables/counts.tsv</code>, <code>intermediate/multiqc_general_stats.txt</code>, and <code>results/rulegraph.png</code>. See if you can work out how to implement such a rule at the end of the <code>Snakefile</code> found in the <code>jupyter/</code> directory. You can find an example in the code chunk below:</p> <div class=highlight><pre><span></span><code><span class=n>rule</span> <span class=n>make_supplementary</span><span class=p>:</span>
    <span class=nb>input</span><span class=p>:</span>
        <span class=n>counts</span> <span class=o>=</span> <span class=s2>&quot;results/tables/counts.tsv&quot;</span><span class=p>,</span>
        <span class=n>summary</span> <span class=o>=</span> <span class=s2>&quot;results/tables/counts.tsv.summary&quot;</span><span class=p>,</span>
        <span class=n>multiqc_file</span> <span class=o>=</span> <span class=s2>&quot;intermediate/multiqc_general_stats.txt&quot;</span><span class=p>,</span>
        <span class=n>rulegraph</span> <span class=o>=</span> <span class=s2>&quot;results/rulegraph.png&quot;</span>
    <span class=n>output</span><span class=p>:</span>
        <span class=s2>&quot;results/supplementary.html&quot;</span>
    <span class=n>params</span><span class=p>:</span>
        <span class=n>base</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>wildcards</span><span class=p>,</span> <span class=n>output</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>output</span><span class=p>[</span><span class=mi>0</span><span class=p>]),</span>
        <span class=nb>dir</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>wildcards</span><span class=p>,</span> <span class=n>output</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>output</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
    <span class=n>shell</span><span class=p>:</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        jupyter nbconvert --to HTML --output-dir {params.dir} --output {params.base} \</span>
<span class=sd>            --execute supplementary_material.ipynb</span>
<span class=sd>        &quot;&quot;&quot;</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The Conda enivronment for the jupyter tutorial does not contain packages required to run the full snakemake workflow. So if you wish to test jupyter integration fully you should update the conda environment by running <code>conda install snakemake-minimal fastqc sra-tools multiqc bowtie2 tbb samtools htseq bedtools wget graphviz</code></p> </div> <h2 id=more-integrations>More integrations<a class=headerlink href=#more-integrations title="Permanent link">#</a></h2> <p>Snakemake actually supports the execution of notebooks via the <code>notebook:</code> rules directive. See more about Jupyter integration in the <a href=https://snakemake.readthedocs.io/en/stable/snakefiles/rules.html#jupyter-notebook-integration>snakemake docs</a>. In the <code>notebook:</code> directive of such a rule you specify the path to a jupyter notebook (relative to the Snakefile) which is then executed when the rule is run.</p> <p>So how is this useful?</p> <p>In the notebook itself this gives you access to a <code>snakemake</code> object containing information about <strong>input</strong> and <strong>output</strong> files for the rule via <code>snakemake.input</code> and <code>snakemake.output</code>. Similarly, you can access rule <strong>wildcards</strong> with <code>snakemake.wildcards</code>, <strong>params</strong> with <code>snakemake.params</code>, and <strong>config</strong> settings with <code>snakemake.config</code>.</p> <p>When snakemake runs the rule with the <code>notebook:</code> directive <code>jupyter-nbconvert</code> is used to execute the notebook. No HTML output is generated here but it is possible to store a version of the notebook in its final processed form by adding the following to the rule:</p> <div class=highlight><pre><span></span><code><span class=n>log</span><span class=p>:</span>
    <span class=n>notebook</span><span class=o>=</span><span class=s2>&quot;&lt;path&gt;/&lt;to&gt;/&lt;processed&gt;/&lt;notebook.ipynb&gt;&quot;</span>
</code></pre></div> <p>Because you won't get the notebook in full HTML glory, this type of integration is better suited if you want to use a notebook to generate figures and store these in local files (<em>e.g.</em> pdf/svg/png formats).</p> <p>We'll use the <code>supplementary_material.ipynb</code> notebook as an example! Let's say that instead of exporting the entire notebook to HTML we want a rule that outputs pdf versions of the barplot and heatmap figures we created.</p> <p>Let's start by setting up the rule. For simplicity we'll use the same input as when we edited the notebook in the first place. The output will be <code>results/barplot.pdf</code> and <code>results/heatmap.pdf</code>. Let's also output a finalized version of the notebook using the <code>log: notebook=</code> directive:</p> <div class=highlight><pre><span></span><code><span class=n>rule</span> <span class=n>make_supplementary_plots</span><span class=p>:</span>
    <span class=nb>input</span><span class=p>:</span>
        <span class=n>counts</span> <span class=o>=</span> <span class=s2>&quot;results/tables/counts.tsv&quot;</span><span class=p>,</span>
        <span class=n>summary</span> <span class=o>=</span> <span class=s2>&quot;results/tables/counts.tsv.summary&quot;</span><span class=p>,</span>
        <span class=n>multiqc</span> <span class=o>=</span> <span class=s2>&quot;intermediate/multiqc_general_stats.txt&quot;</span><span class=p>,</span>
        <span class=n>rulegraph</span> <span class=o>=</span> <span class=s2>&quot;results/rulegraph.png&quot;</span>
    <span class=n>output</span><span class=p>:</span>
        <span class=n>barplot</span> <span class=o>=</span> <span class=s2>&quot;results/barplot.pdf&quot;</span><span class=p>,</span>
        <span class=n>heatmap</span> <span class=o>=</span> <span class=s2>&quot;results/heatmap.pdf&quot;</span>
    <span class=n>log</span><span class=p>:</span>
        <span class=n>notebook</span> <span class=o>=</span> <span class=s2>&quot;results/supplementary.ipynb&quot;</span>
</code></pre></div> <p>The notebook will now have access to <code>snakemake.input.counts</code>, <code>snakemake.output.barplot</code> and <code>snakemake.output.heatmap</code> when executed from within the workflow. Let's go ahead and edit the notebook! In the cell where we defined notebook parameters edit the code so that it looks like this:</p> <div class=highlight><pre><span></span><code><span class=n>counts_file</span><span class=o>=</span><span class=n>snakemake</span><span class=o>.</span><span class=n>input</span><span class=o>.</span><span class=n>counts</span>
<span class=n>summary_file</span><span class=o>=</span><span class=n>snakemake</span><span class=o>.</span><span class=n>input</span><span class=o>.</span><span class=n>summary</span>
<span class=n>multiqc_file</span><span class=o>=</span><span class=n>snakemake</span><span class=o>.</span><span class=n>input</span><span class=o>.</span><span class=n>multiqc</span>
<span class=n>rulegraph_file</span><span class=o>=</span><span class=n>snakemake</span><span class=o>.</span><span class=n>input</span><span class=o>.</span><span class=n>rulegraph</span>

<span class=n>SRR_IDs</span><span class=o>=</span><span class=n>snakemake</span><span class=o>.</span><span class=n>params</span><span class=o>.</span><span class=n>SRR_IDs</span>
<span class=n>GSM_IDs</span><span class=o>=</span><span class=n>snakemake</span><span class=o>.</span><span class=n>params</span><span class=o>.</span><span class=n>GSM_IDs</span>
<span class=n>GEO_ID</span><span class=o>=</span><span class=n>snakemake</span><span class=o>.</span><span class=n>params</span><span class=o>.</span><span class=n>GEO_ID</span>
</code></pre></div> <p>Notice that we set the <code>SRR_IDs</code>, <code>GSM_IDs</code> and <code>GEO_ID</code> variables using variables in <code>snakemake.params</code>? However, we haven't defined these in our rule yet so let's go ahead and do that now. Add the <code>params</code> section so that the <code>make_supplementary_plots</code> in the Snakefile looks like this:</p> <div class=highlight><pre><span></span><code><span class=n>rule</span> <span class=n>make_supplementary_plots</span><span class=p>:</span>
    <span class=nb>input</span><span class=p>:</span>
        <span class=n>counts</span> <span class=o>=</span> <span class=s2>&quot;results/tables/counts.tsv&quot;</span><span class=p>,</span>
        <span class=n>multiqc</span> <span class=o>=</span> <span class=s2>&quot;intermediate/multiqc_general_stats.txt&quot;</span><span class=p>,</span>
        <span class=n>rulegraph</span> <span class=o>=</span> <span class=s2>&quot;results/rulegraph.png&quot;</span>
    <span class=n>output</span><span class=p>:</span>
        <span class=n>barplot</span> <span class=o>=</span> <span class=s2>&quot;results/barplot.pdf&quot;</span><span class=p>,</span>
        <span class=n>heatmap</span> <span class=o>=</span> <span class=s2>&quot;results/heatmap.pdf&quot;</span>
    <span class=n>log</span><span class=p>:</span>
        <span class=n>notebook</span> <span class=o>=</span> <span class=s2>&quot;results/supplementary.ipynb&quot;</span>
    <span class=n>params</span><span class=p>:</span>
        <span class=n>SRR_IDs</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;SRR935090&quot;</span><span class=p>,</span><span class=s2>&quot;SRR935091&quot;</span><span class=p>,</span><span class=s2>&quot;SRR935092&quot;</span><span class=p>],</span>
        <span class=n>GSM_IDs</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;GSM1186459&quot;</span><span class=p>,</span> <span class=s2>&quot;GSM1186460&quot;</span><span class=p>,</span> <span class=s2>&quot;GSM1186461&quot;</span><span class=p>],</span>
        <span class=n>GEO_ID</span> <span class=o>=</span> <span class=s2>&quot;GSE48896&quot;</span>
    <span class=n>notebook</span><span class=p>:</span> <span class=s2>&quot;supplementary_material.ipynb&quot;</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>One way to further generalize this rule could be to define the SRR_IDs, GSM_IDs and GEO_ID parameters in a config file instead, in which case they would be directly accessible from within the notebook using <code>snakemake.config['SRR_IDs']</code> etc.</p> </div> <p>Now the rule contains everything needed, but we still need to edit the notebook to save the plots to the output files. First, edit the cell that generates the barplot so that it looks like this:</p> <div class=highlight><pre><span></span><code><span class=c1># Create a stacked barplot</span>
<span class=n>ax</span> <span class=o>=</span> <span class=n>summary_plot_data</span><span class=o>.</span><span class=n>T</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>kind</span><span class=o>=</span><span class=s2>&quot;bar&quot;</span><span class=p>,</span> <span class=n>stacked</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>color</span><span class=o>=</span><span class=n>colors</span><span class=p>)</span>
<span class=c1># Move legend and set legend title</span>
<span class=n>ax</span><span class=o>.</span><span class=n>legend</span><span class=p>(</span><span class=n>bbox_to_anchor</span><span class=o>=</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>),</span> <span class=n>title</span><span class=o>=</span><span class=s2>&quot;Category&quot;</span><span class=p>);</span>
<span class=n>plt</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>snakemake</span><span class=o>.</span><span class=n>output</span><span class=o>.</span><span class=n>barplot</span><span class=p>,</span> <span class=n>dpi</span><span class=o>=</span><span class=mi>300</span><span class=p>,</span> <span class=n>bbox_inches</span><span class=o>=</span><span class=s2>&quot;tight&quot;</span><span class=p>)</span> <span class=c1>## &lt;-- Add this line!</span>
</code></pre></div> <p>Finally, edit the cell that generates the heatmap so that it looks like this:</p> <div class=highlight><pre><span></span><code><span class=n>count_data</span> <span class=o>=</span> <span class=n>counts</span><span class=o>.</span><span class=n>loc</span><span class=p>[:,</span> <span class=n>SRR_IDs</span><span class=p>]</span>
<span class=n>heatmap_data</span> <span class=o>=</span> <span class=n>count_data</span><span class=o>.</span><span class=n>loc</span><span class=p>[(</span><span class=n>count_data</span><span class=o>.</span><span class=n>std</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>div</span><span class=p>(</span><span class=n>count_data</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>))</span><span class=o>&gt;</span><span class=mf>1.2</span><span class=p>)</span><span class=o>&amp;</span><span class=p>(</span><span class=n>count_data</span><span class=o>.</span><span class=n>max</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span><span class=o>&gt;</span><span class=mi>5</span><span class=p>)]</span>
<span class=n>heatmap_data</span> <span class=o>=</span> <span class=n>heatmap_data</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>columns</span> <span class=o>=</span> <span class=n>name_dict</span><span class=p>[</span><span class=s1>&#39;title&#39;</span><span class=p>])</span>
<span class=k>with</span> <span class=n>sns</span><span class=o>.</span><span class=n>plotting_context</span><span class=p>(</span><span class=s2>&quot;notebook&quot;</span><span class=p>,</span> <span class=n>font_scale</span><span class=o>=</span><span class=mf>0.7</span><span class=p>):</span>
    <span class=n>ax</span> <span class=o>=</span> <span class=n>sns</span><span class=o>.</span><span class=n>clustermap</span><span class=p>(</span><span class=n>data</span><span class=o>=</span><span class=n>np</span><span class=o>.</span><span class=n>log10</span><span class=p>(</span><span class=n>heatmap_data</span><span class=o>+</span><span class=mi>1</span><span class=p>),</span> <span class=n>cmap</span><span class=o>=</span><span class=s2>&quot;RdYlBu_r&quot;</span><span class=p>,</span>
                        <span class=n>method</span><span class=o>=</span><span class=s2>&quot;complete&quot;</span><span class=p>,</span> <span class=n>yticklabels</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>linewidth</span><span class=o>=</span><span class=mf>.5</span><span class=p>,</span>
                        <span class=n>cbar_pos</span><span class=o>=</span><span class=p>(</span><span class=mf>.7</span><span class=p>,</span> <span class=mf>.85</span><span class=p>,</span> <span class=mf>.05</span><span class=p>,</span> <span class=mf>.1</span><span class=p>),</span> <span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=mi>9</span><span class=p>))</span>
    <span class=n>plt</span><span class=o>.</span><span class=n>setp</span><span class=p>(</span><span class=n>ax</span><span class=o>.</span><span class=n>ax_heatmap</span><span class=o>.</span><span class=n>get_xticklabels</span><span class=p>(),</span> <span class=n>rotation</span><span class=o>=</span><span class=mi>270</span><span class=p>)</span>
    <span class=n>plt</span><span class=o>.</span><span class=n>savefig</span><span class=p>(</span><span class=n>snakemake</span><span class=o>.</span><span class=n>output</span><span class=o>.</span><span class=n>heatmap</span><span class=p>,</span> <span class=n>dpi</span><span class=o>=</span><span class=mi>300</span><span class=p>,</span> <span class=n>bbox_inches</span><span class=o>=</span><span class=s2>&quot;tight&quot;</span><span class=p>)</span> <span class=c1>## &lt;-- Add this line!</span>
</code></pre></div> <p>Now you can run the following to generate the plots:</p> <div class=highlight><pre><span></span><code>snakemake<span class=w> </span>-j<span class=w> </span><span class=m>1</span><span class=w> </span>make_supplementary_plots
</code></pre></div> <h2 id=presentations-with-jupyter>Presentations with Jupyter<a class=headerlink href=#presentations-with-jupyter title="Permanent link">#</a></h2> <p>As if all the above wasn't enough you can also create presentations/slideshows with Jupyter! Simply use conda to install the <a href=https://rise.readthedocs.io/en/stable/ >RISE</a> extension to your jupyter environment:</p> <div class=highlight><pre><span></span><code>conda<span class=w> </span>install<span class=w> </span>-c<span class=w> </span>conda-forge<span class=w> </span>rise
</code></pre></div> <p>then open up a notebook of your choice. In the menu click <strong>View</strong> -&gt; <strong>Cell Toolbar</strong> -&gt; <strong>Slideshow</strong>. Now every cell will have a drop-down in the upper right corner allowing you to set the cell type:</p> <ul> <li><strong>Slide</strong>: a regular slide</li> <li><strong>Sub-Slide</strong>: a regular slide that will be displayed <em>below</em> the previous</li> <li><strong>Fragment</strong>: these cells split up slides so that content (fragments) are added only when you press Space</li> <li><strong>Skip</strong>: these cells will not appear in the presentation</li> <li><strong>Notes</strong>: these cells act as notes, shown in the speaker view but not in the main view</li> </ul> <p>The presentation can be run directly from the notebook by clicking the 'Enter/Exit RISE Slideshow' button (looks like a bar chart) in the toolbar, or by using the keyboard shortcut <code>Alt-r</code>. Running it directly from a notebook means you can also edit and run cells during your presentation. The downside is that the presentation is not as portable because it may rely on certain software packages that other people are not comfortable with installing.</p> <p>You can also export the notebook to an HTML-file with <code>jupyter nbconvert --execute --to SLIDES &lt;your-notebook.ipynb&gt;</code>. The resulting file, with the slideshow functionality included, can be opened in any browser. However, in this format you cannot run/edit cells.</p> <p>An example ?</p> <iframe id=iframehtml src=../../../lectures/jupyter/jupyter.slides.html frameborder=0 width=640 height=480 allowfullscreen=true mozallowfullscreen=true webkitallowfullscreen=true></iframe> <h2 id=jupyterlab>JupyterLab<a class=headerlink href=#jupyterlab title="Permanent link">#</a></h2> <p>JupyterLab is a cutting-edge web-based development environment that offers an interactive and dynamic interface for working with notebooks, code, and data. Its adaptable design empowers users to customize and organize their workflows, catering to various applications such as data science, scientific computing, and machine learning. Moreover, its modular architecture is conducive to adding extensions that augment and diversify the functionality of the platform. </p> <p><img alt=image src=../images/jupyter_labpreview.webp></p> <p>Want to try? You can go to <a href=https://jupyter.org/try>https://jupyter.org/try</a> or <a href=https://jupyterhub.cluster.france-bioinformatique.fr/ >https://jupyterhub.cluster.france-bioinformatique.fr/</a> (if you have an account on the IFB cluster).</p> <h2 id=jupyter-book>Jupyter book<a class=headerlink href=#jupyter-book title="Permanent link">#</a></h2> <p><img align=left alt="Jupyter Book" src=../images/jupyter_jupyter_book.png width=300></p> <p>With Jypter book, build an online book using a collection of Jupyter Notebooks and Markdown files with</p> <ul> <li>Interactivity</li> <li>Citations</li> <li>Build and host it online with GitHub/GitHub Pages...</li> <li>or locally on your own laptop</li> </ul> <p>An example ? You can find <a href=https://ifb-elixirfr.github.io/LinuxEBAII/00_home.html>here</a> a Linux introduction create with Jupyter Book. </p> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../jupyter-8-the-mrsa-case-study/ class="md-footer__link md-footer__link--prev" aria-label="Previous: The MRSA case study" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> The MRSA case study </div> </div> </a> <a href=../../quarto/quarto-1-introduction/ class="md-footer__link md-footer__link--next" aria-label="Next: Introduction" rel=next> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Introduction </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "header.autohide", "navigation.footer", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.b4d07000.min.js></script> </body> </html>